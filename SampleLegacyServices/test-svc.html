<html>

<head>
    <title>Test</title>
    <script>
        async function send() {
            let url = document.getElementById("url").value;
            let soapAction = document.getElementById("soap-action").value;
            let value = document.getElementById("requestBody").value;
            try {
                let resp = await fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "text/xml;charset=UTF-8",
                        "SOAPAction": soapAction
                    },
                    body: value
                });
                let respContent = await resp.text();
                document.getElementById("responseBody").value = respContent
            }
            catch (e) {
                document.getElementById("responseBody").value = e;
            }
        }
    </script>
    <style>
        textarea {
            width: 100%;
            min-height: 300px;
        }

        button {
            border: 2px solid gray;
            border-radius: 4px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, .1);
            color: #333;
            font-family: sans-serif;
            font-size: 14px;
            font-weight: 700;
            padding: 5px 20px;
        }

        button.send {
            background-color: steelblue;
            border-color: steelblue;
            color: #fff;
            width: 100%;
        }
    </style>
</head>

<body>
    <h1>Test Operation</h1>
    <hr>
    <input id="url" type="text" value="/Services/svc/Service2.svc"><br>
    <input id="soap-action" type="text" value="http://legacy-services/svc/legacy-svc-service/get-custom-contract"><br>
    <textarea id="requestBody" oninput="this.style.heigth='';this.style.height=this.scrollHeight + 'px'">
        <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">
            <Header />
            <Body>
                <get-custom-contract xmlns="http://legacy-services/svc">
                    <data xmlns:d4p1="http://legacy-services/models" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
                        <d4p1:is-truth>true</d4p1:is-truth>
                        <d4p1:message>not fake - 
                        0 - 
                        (T_T) - 
                        ðŸ˜‘ - 
                        - - 
                        Hello </d4p1:message>
                        <d4p1:binary-data>bm90IGZha2UgLSAKMCAtIAooVF9UKSAtIArwn5iRIC0gCi0gLSAKSGVsbG8g</d4p1:binary-data>
                        <d4p1:field xmlns:d5p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays" i:nil="true"/>
                        <d4p1:sub-contract-one xmlns:d5p1="http://schemas.datacontract.org/2004/07/LegacyServices.Models">
                            <d5p1:BinaryData i:nil="true"/>
                            <d5p1:CustomData i:nil="true"/>
                            <d5p1:IsTruth>true</d5p1:IsTruth>
                            <d5p1:Message>Hello </d5p1:Message>
                            <d5p1:NotProperty xmlns:d6p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays" i:nil="true"/>
                            <d5p1:SubContractOne i:nil="true"/>
                            <d5p1:SubContractTwo i:nil="true"/>
                        </d4p1:sub-contract-one>
                        <d4p1:sub-contract-two>
                            <d4p1:is-truth>true</d4p1:is-truth>
                            <d4p1:message>Hello </d4p1:message>
                            <d4p1:binary-data i:nil="true"/>
                            <d4p1:field xmlns:d6p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays" i:nil="true"/>
                            <d4p1:sub-contract-one xmlns:d6p1="http://schemas.datacontract.org/2004/07/LegacyServices.Models" i:nil="true"/>
                            <d4p1:sub-contract-two i:nil="true"/>
                            <d4p1:custom-type xmlns:d6p1="http://schemas.datacontract.org/2004/07/LegacyServices.Models" i:nil="true"/>
                        </d4p1:sub-contract-two>
                        <d4p1:custom-type xmlns:d5p1="http://schemas.datacontract.org/2004/07/LegacyServices.Models">
                            <d5p1:BinaryData i:nil="true"/>
                            <d5p1:CustomData i:nil="true"/>
                            <d5p1:HidenDataOne i:nil="true"/>
                            <d5p1:HidenDataTwo>0</d5p1:HidenDataTwo>
                            <d5p1:IsTruth>true</d5p1:IsTruth>
                            <d5p1:Message>Hello </d5p1:Message>
                            <d5p1:NotProperty xmlns:d6p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays" i:nil="true"/>
                            <d5p1:SubContractOne i:nil="true"/>
                            <d5p1:SubContractTwo i:nil="true"/>
                        </d4p1:custom-type>
                    </data>
                </get-custom-contract>
            </Body>
        </Envelope>
    </textarea>
    <br>
    <button class="send" onclick="send()">Send</button>
    <br>
    <textarea id="responseBody">
    </textarea>
</body>

</html>